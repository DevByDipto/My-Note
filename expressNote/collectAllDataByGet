app.get("/coffees", async (req, res) => {
  const result = await coffeDataCollection.find().toArray();
  res.send(result);
  console.log(result);
});

// const result =await coffeDataCollection.find().toArray() // toArray use korte hove bujbo kivabe? toArray use nah korle error dicche keno ?


// ChatGPT said:
// ржЦрзБржм рж╕рзБржирзНржжрж░ ржкрзНрж░рж╢рзНржи ржХрж░рзЗржЫрзЛ, Dipto! ржПржЦржи ржЖржорж░рж╛ ржмрзБржЭрзЗ ржлрзЗрж▓ржмрзЛ тАФ

// toArray() ржмрзНржпржмрж╣рж╛рж░ ржХрзЗржи ржХрж░рждрзЗржЗ рж╣ржмрзЗ, ржПржмржВ
// ржирж╛ ржХрж░рж▓рзЗржЗ ржХрзЗржи error ржжрзЗрзЯ ржмрж╛ ржХрж╛ржЬ ржХрж░рзЗ ржирж╛?

// ЁЯФН ржкрзНрж░рж╢рзНржи ржнрзЗржЩрзЗ ржжрзЗржЦрж┐:
// js
// Copy
// Edit
// const result = await coffeDataCollection.find().toArray()
// рждрзБржорж┐ ржЬрж╛ржирждрзЗ ржЪрж╛ржЗржЫрзЛ:

// ЁЯФ╕ toArray() ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗржЗ рж╣ржмрзЗ ржХрзЗржи?

// ЁЯФ╕ ржпржжрж┐ рж╢рзБржзрзБ find() ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ рждрж╛рж╣рж▓рзЗ ржХрж┐ рж╣рзЯ?

// ЁЯФ╕ ржХрж┐ржнрж╛ржмрзЗ ржмрзБржЭржмрзЛ ржХржмрзЗ toArray() ржжрж░ржХрж╛рж░?

// тЬЕ ржЙрждрзНрждрж░ ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ:
// ЁЯФ╣ рзз. find() ржХрж┐ return ржХрж░рзЗ?
// js
// Copy
// Edit
// const cursor = coffeDataCollection.find();
// ЁЯСЙ ржПржЯрж╛ ржПржХржЯрж╛ "Cursor" object return ржХрж░рзЗред

// Cursor ржорж╛ржирзЗ рж╣рж▓рзЛ: ржПржХржЯрж╛ stream ржпрзЗржЯрж╛ ржбрж╛ржЯрж╛ржмрзЗржЗрж╕ ржерзЗржХрзЗ ржПржХрзЗрж░ ржкрж░ ржПржХ ржбрзЗржЯрж╛ ржЖржирждрзЗ ржкрж╛рж░рзЗред

// ржПржЯрж╛ рж╕рж╛ржзрж╛рж░ржгржд "lazy" рж╣рзЯ тАФ ржорж╛ржирзЗ ржПржХрж╕рж╛ржерзЗ рж╕ржм ржбрзЗржЯрж╛ ржЖржирзЗ ржирж╛ред

// ЁЯФ╣ рзи. toArray() ржХрж┐ ржХрж░рзЗ?
// js
// Copy
// Edit
// const result = await coffeDataCollection.find().toArray();
// ржПржЯрж┐ cursor-ржПрж░ рж╕ржм ржбрзЗржЯрж╛ ржПржХрж╕рж╛ржерзЗ ржПржирзЗ ржПржХржЯрж┐ JavaScript array ржмрж╛ржирж╛рзЯред

// рждрзБржорж┐ рждржЦржи normal array ржПрж░ ржорждрзЛ .map(), .length, res.send() ржПрж╕ржм ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЛред

// ЁЯФ╣ рзй. ржпржжрж┐ toArray() ржирж╛ ржжрж╛ржУ?
// js
// Copy
// Edit
// const result = await coffeDataCollection.find();
// res.send(result);
// ржПржЦржи result рж╣ржЪрзНржЫрзЗ cursor object, array ржирж╛ред

// рждрзБржорж┐ cursor ржХрзЗ res.send() ржХрж░рж▓рзЗ Express рж╕рзЗржЯрж╛ serialize ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржирж╛ред

// рждрж╛ржЗ рж╣рзЯрждрзЛ error ржжрж┐ржмрзЗ, ржирж╛ рж╣рж▓рзЗ {} (empty object) ржкрж╛ржарж╛ржмрзЗред

// ЁЯза рждрж╛рж╣рж▓рзЗ ржХржмрзЗ toArray() ржжрж░ржХрж╛рж░?
// ржХрж╛ржЬ	toArray() ржжрж░ржХрж╛рж░?	ржХрж╛рж░ржг
// рж╕ржм ржбрзЗржЯрж╛ ржПржХрж╕рж╛ржерзЗ ржЪрж╛ржЗ	тЬЕ рж╣рзНржпрж╛ржБ	cursor ржХрзЗ array-рждрзЗ convert ржХрж░рждрзЗ рж╣ржмрзЗ
// stream ржХрж░рзЗ ржкрзНрж░рждрж┐ item ржП ржХрж╛ржЬ ржХрж░ржмрзЛ	тЭМ ржирж╛	.forEach() ржмрж╛ .next() ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЛ
// Express API рждрзЗ ржкрж╛ржарж╛рждрзЗ рж╣ржмрзЗ	тЬЕ рж╣рзНржпрж╛ржБ	res.send() ржХрж░рждрзЗ рж╣рж▓рзЗ normal array ржжрж░ржХрж╛рж░

// ЁЯзк ржЙржжрж╛рж╣рж░ржг:
// тЬЕ рж╕ржарж┐ржХ:
// js
// Copy
// Edit
// const result = await coffeDataCollection.find().toArray();
// res.send(result); // array pathabe
// тЭМ ржнрзБрж▓:
// js
// Copy
// Edit
// const result = await coffeDataCollection.find();
// res.send(result); // result = cursor (not serializable), error ржмрж╛ {}
// тЬЕ ржЙржкрж╕ржВрж╣рж╛рж░:
// find() рж╢рзБржзрзБ cursor ржжрзЗрзЯред ржХрж┐ржирзНрждрзБ Express API ржжрж┐рзЯрзЗ response ржкрж╛ржарж╛рждрзЗ ржЪрж╛ржЗрж▓рзЗ, cursor ржХрзЗ array ржмрж╛ржирж┐рзЯрзЗ ржирж┐рждрзЗ рж╣рзЯ тАФ рждрж╛ржЗ toArray() ржжрж░ржХрж╛рж░ред

// тЬНя╕П Bonus Tip:
// ЁЯСЙ MongoDB docs-ржП рж▓рзЗржЦрж╛ ржЖржЫрзЗ:

// .find() returns a cursor. Use .toArray() to retrieve all documents at once.

// ЁЯФЧ Official docs: MongoDB find()

// рждрзБржорж┐ ржЪрж╛ржЗрж▓рзЗ ржЖржорж┐ ржПржХржЯрж╛ cheat-sheet ржмрж╛ржирж┐рзЯрзЗ ржжрж┐рждрзЗ ржкрж╛рж░рж┐ тАФ ржХржмрзЗ toArray(), ржХржмрзЗ insertOne(), ржХрзЛржиржЯрж╛ async, ржХрзЛржиржЯрж╛ stream тАФ ржмрзБржЭрзЗ ржирж┐рждрзЗ ржкрж╛рж░ржмрзЗ рж╕ржм ржПржХрж╕рж╛ржерзЗ тЬЕ
// ржмрж▓рж▓рзЗржЗ ржмрж╛ржирж┐рзЯрзЗ ржжрж┐ржЪрзНржЫрж┐!


// Cursor рж╣рж▓рзЛ MongoDB-рж░ ржПржХржЯрж┐ ржлрж╛ржВрж╢ржирж╛рж▓ ржЕржмржЬрзЗржХрзНржЯ, ржпрзЗржЯрж┐ржХрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ .next(), .toArray() ржЗрждрзНржпрж╛ржжрж┐рж░ ржорж╛ржзрзНржпржорзЗ ржПржХржЯрж╛рж░ ржкрж░ ржПржХржЯрж╛ ржбрзЗржЯрж╛ ржЗржЯрж╛рж░рзЗржЯ (iterate) ржХрж░рж╛ржирзЛ ржпрж╛рзЯ ржПржмржВ ржбрзЗржЯрж╛рж░ ржЕржмрж╕рзНржерж╛ржи (position) ржЯрзНрж░рзНржпрж╛ржХ рж░рж╛ржЦрж╛ ржпрж╛рзЯред 


// toArray mongoDB er akta feature jaa js er kichu noi.toArray() рж╣рж▓рзЛ MongoDB cursor-ржПрж░ ржЙржкрж░ ржПржХржЯрж╛ ржорзЗржержб, ржпрзЗржЯрж╛ рж╕ржорж╕рзНржд result ржЧрзБрж▓рзЛ ржПржХрж╕рж╛ржерзЗ ржПржХржЯрж╛ JS array рж╣рж┐рж╕рзЗржмрзЗ ржлрж┐рж░рж┐рзЯрзЗ ржжрзЗрзЯред








